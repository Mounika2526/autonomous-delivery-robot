<launch>

    <!-- 1. Load URDF into the parameter server -->
    <param name="robot_description"
           command="$(find xacro)/xacro '$(find autonomous-delivery-robot)/urdf/delivery_bot.urdf'" />

    <!-- 2. Publish fixed joint transforms from the URDF
         This gives TF for lidar_link, wheel links, etc. -->
    <node pkg="robot_state_publisher"
          type="robot_state_publisher"
          name="robot_state_publisher"
          output="screen" />

    <!-- 3. Broadcast the robot pose in the world frame (map -> base_link)
         This is what makes the robot 'move' in RViz -->
    <node pkg="autonomous-delivery-robot"
          type="pose_broadcaster.py"
          name="pose_broadcaster"
          output="screen" />

    <!-- 4. Launch RViz with our pre-made config -->
    <node pkg="rviz"
          type="rviz"
          name="rviz"
          args="-d $(find autonomous-delivery-robot)/launch/rviz_config.rviz"
          output="screen" />

</launch>

